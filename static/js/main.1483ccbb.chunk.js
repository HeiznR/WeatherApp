(this["webpackJsonpweather-application"]=this["webpackJsonpweather-application"]||[]).push([[0],{35:function(e,t,c){},37:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){"use strict";c.r(t);var a=c(5),r=c.n(a),n=c(3),o=c(0),s=n.c,i=(c(35),c(1)),u=function(){var e=s((function(e){return e.weather.data})),t=e.city,c=t.name,a=t.country,r=e.list[0].weather[0],n=r.icon,o=r.description;return Object(i.jsxs)("div",{className:"todayForecast",children:[Object(i.jsxs)("div",{className:"todayForecast__name",children:[c,",",a]}),Object(i.jsx)("img",{className:"todayForecast__image",src:n&&"http://openweathermap.org/img/wn/".concat(n,"@2x.png"),alt:"weather-icon"}),Object(i.jsxs)("div",{className:"todayForecast__temp",children:[Math.round(e.list[0].main.temp-273),"\xb0C"]}),Object(i.jsx)("div",{className:"todayForecast__description",children:o}),Object(i.jsxs)("div",{className:"todayForecast__wind",children:["wind: ",Object(i.jsxs)("span",{children:[e.list[0].wind.speed," m/s"]})]})]})},d=function(){return Object(i.jsx)("div",{className:"forecastBar",children:Object(i.jsx)(u,{})})},l=c(24),p=(c(37),c(12)),j=c.n(p),h=c(22),b=c(6),m=c(23),f=c.n(m),O=Object(b.c)({name:"weatherReducer",initialState:{data:{city:{name:"",country:""},list:[{main:{temp:0,temp_max:0,temp_min:0},weather:[{description:"",icon:""}],wind:{speed:0}}]},error:{message:"",errorOccured:!1}},reducers:{fetchDataSucces:function(e,t){e.data=t.payload},openPopUpWithDataError:function(e,t){e.error.message=t.payload,e.error.errorOccured=!0},closePopUp:function(e){e.error.errorOccured=!1}}}),x=O.reducer,v=O.actions,g=v.fetchDataSucces,w=v.openPopUpWithDataError,_=v.closePopUp,y=Object(b.b)("weatherReducer/fetchData",function(){var e=Object(h.a)(j.a.mark((function e(t,c){var a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.dispatch,e.prev=1,e.next=4,f.a.get(t);case 4:return r=e.sent,a(g(r.data)),e.abrupt("return");case 9:return e.prev=9,e.t0=e.catch(1),a(w("city not found")),e.abrupt("return");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,c){return e.apply(this,arguments)}}()),N=y,F=function(){var e=Object(o.useState)(""),t=Object(l.a)(e,2),c=t[0],a=t[1],r=Object(n.b)(),s="https://the-ultimate-api-challenge.herokuapp.com/api.openweathermap.org/data/2.5/forecast?q=".concat(c,"&appid=b66b3fe27f7bea0990712afd47f3ae83");return Object(i.jsxs)("div",{className:"search",children:[Object(i.jsx)("input",{className:"search__input",value:c,onChange:function(e){a(e.target.value)}}),Object(i.jsx)("button",{className:"search__button",onClick:function(){r(c?N(s):w("Input field cannot be empty"))},children:"Search"})]})},k=(c(57),function(e){var t=e.children;return Object(a.createPortal)(Object(i.jsx)("div",{className:"Modal",children:t}),document.body)}),P=(c(58),function(){var e=Object(n.b)(),t=s((function(e){return e.weather.error}));return Object(i.jsxs)("div",{className:"content",children:[Object(i.jsx)("div",{className:"content__message",children:t.message}),Object(i.jsx)("button",{className:"content__button",onClick:function(){e(_())},children:"OK"})]})}),C=function(){var e=Object(n.b)(),t=s((function(e){return e.weather.error}));return Object(o.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(t){var c="https://the-ultimate-api-challenge.herokuapp.com/api.openweathermap.org/data/2.5/forecast?lat=".concat(t.coords.latitude,"&lon=").concat(t.coords.longitude,"&appid=b66b3fe27f7bea0990712afd47f3ae83");e(N(c))}),(function(){e(w("User denied geolocation"))}))}),[]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(F,{}),Object(i.jsx)(d,{}),t.errorOccured&&Object(i.jsx)(k,{children:Object(i.jsx)(P,{})})]})};var D=function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(C,{})})},S=c(4),U=c(7),E=Object(S.b)({weather:x}),B=Object(b.a)({reducer:E,middleware:function(e){return e().concat(U.a)}});r.a.render(Object(i.jsx)(n.a,{store:B,children:Object(i.jsx)(D,{})}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.1483ccbb.chunk.js.map